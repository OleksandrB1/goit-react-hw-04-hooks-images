{"version":3,"sources":["component/Modal/Modal.module.css","App.module.css","component/ImageGallery/ImageGallery.module.css","component/ImageGalleryItem/ImageGalleryItem.module.css","component/Button/Button.module.css","component/Searchbar/Searchbar.module.css","ApiService/apiService.js","component/Searchbar/Searchbar.js","component/ImageGalleryItem/ImageGalleryItem.js","component/ImageGallery/ImageGallery.js","component/Button/Button.js","component/Modal/Modal.js","App.js","index.js"],"names":["module","exports","getApi","a","images","pageNumber","axios","get","res","Searchbar","state","change","event","setState","currentTarget","value","toLowerCase","submit","preventDefault","trim","props","onSubmit","reset","className","s","searchbar","searchForm","this","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","cards","onClickImage","map","id","webformatURL","tags","largeImageURL","src","alt","imageGalleryItemImage","onClick","ImageGallery","imageGallery","Button","button","Modal","toggle","largeImage","useEffect","window","addEventListener","pressingEsc","removeEventListener","e","code","Overlay","target","Image","App","useState","setCards","setImages","setLargeImage","setTags","setPageNumber","isLoading","setIsLoading","modal","setModal","setButton","ref","useRef","current","then","data","hits","catch","error","console","log","finally","length","color","height","width","timeout","prevState","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9db98226.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2SHwb\",\"Modal\":\"Modal_Modal__2YcKR\",\"Image\":\"Modal_Image__1AKVS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1Z-fl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__178sH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2quHt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__jkpZD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1woXI\",\"searchForm\":\"Searchbar_searchForm__3yf7C\",\"searchFormButton\":\"Searchbar_searchFormButton__1wPnd\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__2bxQj\",\"searchFormInput\":\"Searchbar_searchFormInput__3LvT0\"};","import axios from \"axios\";\r\n\r\nexport const getApi = async ({ images, pageNumber = 1 }) => {\r\n  const baseURL = \"https://pixabay.com/api/\";\r\n  const image_type = \"photo\";\r\n  const orientation = \"horizontal\";\r\n  const per_page = \"12\";\r\n  const key = \"23000349-69c2b90ac6d14094754d4ad57\";\r\n\r\n  const res = await axios.get(\r\n    `${baseURL}?image_type=${image_type}&orientation=${orientation}&q=${images}&page=${pageNumber}&per_page=${per_page}&key=${key}`\r\n  );\r\n\r\n  return res;\r\n};","import s from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport React, { Component } from \"react\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    images: \"\",\r\n  };\r\n  change = (event) => {\r\n    this.setState({ images: event.currentTarget.value.toLowerCase() });\r\n  };\r\n  submit = (event) => {\r\n    event.preventDefault();\r\n    if (this.state.images.trim() === \"\") {\r\n      // ****************************************   Alert  *******************\r\n\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state);\r\n    this.reset();\r\n  };\r\n  reset = () => {\r\n    this.setState({ images: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <header className={s.searchbar}>\r\n          <form className={s.searchForm} onSubmit={this.submit}>\r\n            <button type=\"submit\" className={s.searchFormButton}>\r\n              <span className={s.searchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.searchFormInput}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              value={this.state.images}\r\n              onChange={this.change}\r\n            />\r\n          </form>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import s from \"./ImageGalleryItem.module.css\";\r\nconst ImageGalleryItem = ({ cards, onClickImage }) => {\r\n  return cards.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n    <li key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={s.imageGalleryItemImage}\r\n        onClick={() => onClickImage(largeImageURL, tags)}\r\n      />\r\n    </li>\r\n  ));\r\n};\r\nexport default ImageGalleryItem;\r\n","import s from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ cards, onClickImage }) => (\r\n  <ul className={s.imageGallery}>\r\n    <ImageGalleryItem cards={cards} onClickImage={onClickImage} />\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n","import s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" className={s.button} onClick={onClick}>\r\n    <span>Load more</span>\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst Modal = ({ toggle, largeImage, tags }) => {\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", pressingEsc);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", pressingEsc);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [toggle]);\r\n\r\n  const pressingEsc = (e) => {\r\n    if (e.code !== \"Escape\") {\r\n      return;\r\n    }\r\n    toggle();\r\n  };\r\n\r\n  const backdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      toggle();\r\n    }\r\n  };\r\n  return (\r\n    <div className={s.Overlay} onClick={backdropClick}>\r\n      <div className={s.Modal}>\r\n        <img src={largeImage} alt={tags} className={s.Image} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  toggle: PropTypes.func.isRequired,\r\n  largeImage: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import s from \"./App.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { getApi } from \"./ApiService/apiService\";\nimport Searchbar from \"./component/Searchbar/Searchbar\";\nimport ImageGallery from \"./component/ImageGallery/ImageGallery\";\nimport Button from \"./component/Button/Button\";\nimport Modal from \"./component/Modal/Modal\";\nimport Loader from \"react-loader-spinner\";\n\nconst App = () => {\n  const [cards, setCards] = useState([]);\n  const [images, setImages] = useState(\"\");\n  const [largeImage, setLargeImage] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n  const [pageNumber, setPageNumber] = useState(1);\n  const [isLoading, setIsLoading] = useState(false);\n  const [modal, setModal] = useState(false);\n  const [button, setButton] = useState(false);\n  const ref = useRef(true);\n\n  const onSubmit = ({ images }) => {\n    setCards([]);\n    setImages(images);\n    setLargeImage(\"\");\n    setTags(\"\");\n    setPageNumber(1);\n    setButton(false);\n  };\n\n  useEffect(() => {\n    if (ref.current) {\n      ref.current = false;\n      return;\n    }\n    setIsLoading(true);\n\n    getApi({ images, pageNumber })\n      .then((res) => {\n        setCards((cards) => [...cards, ...res.data.hits]);\n      })\n      .catch((error) => console.log(error))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [images, pageNumber]);\n\n  const fullImage = (largeImage, tags) => {\n    setLargeImage(largeImage);\n    setTags(tags);\n    setModal(!modal);\n  };\n\n  if (cards.length > 11 && button === false) {\n    setButton(true);\n  } else if (cards.length < 12 && button === true) {\n    setButton(false);\n  }\n\n  return (\n    <div className={s.App}>\n      <Searchbar onSubmit={onSubmit} />\n      {isLoading && (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      )}\n      <ImageGallery cards={cards} onClickImage={fullImage} />\n\n      {button && (\n        <Button onClick={() => setPageNumber((prevState) => prevState + 1)} />\n      )}\n      {modal && (\n        <Modal\n          largeImage={largeImage}\n          tags={tags}\n          toggle={() => setModal(!modal)}\n        />\n      )}\n    </div>\n  );\n};\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}